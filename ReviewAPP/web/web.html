<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Review APP</title>
    <meta name="generator" content="Google Web Designer 16.0.2.0124">
    <meta name="template" content="Expandable 3.0.0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="gwdpage_style.css" rel="stylesheet" data-version="13" data-exports-type="gwd-page">
    <link href="gwdpagedeck_style.css" rel="stylesheet" data-version="14" data-exports-type="gwd-pagedeck">
    <link href="gwdimage_style.css" rel="stylesheet" data-version="17" data-exports-type="gwd-image">
    <style id="gwd-lightbox-style">
        .gwd-lightbox {
            overflow: hidden;
        }
    </style>
    <style id="gwd-text-style">
        p {
            margin: 0px;
            font-family: Arial;
            font-weight: normal;
        }
        h1 {
            margin: 0px;
            font-family: Arial;
            font-weight: bold;
        }
        h2 {
            margin: 0px;
            font-family: Arial;
            font-weight: bold;
            text-align: right;
        }
        h3 {
            margin: 0px;
            font-family: Arial;
            font-weight: bold;
        }
        span {
            font-family: Arial;
            font-weight: normal;
        }
        strong {
            font-family: Arial;
            font-weight: bold;
        }
    </style>
    <style>
        html, body {
            width: 100%;
            height: 100%;
            margin: 0px;
        }
        .gwd-page-container {
            position: relative;
            width: 100%;
            height: 100%;
        }
        .gwd-page-content {
            background-color: transparent;
            transform: perspective(1400px) matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
            transform-style: preserve-3d;
            position: absolute;
        }
        .gwd-page-content * {
            transform-style: preserve-3d;
        }
        .gwd-page-wrapper {
            background-color: rgb(255, 255, 255);
            position: absolute;
            transform: translateZ(0px);
        }
        .page1-content {
            width: 550px;
            height: 400px;
        }
        .gwd-label-74gh {
            position: absolute;
            text-align: center;
            height: 46px;
            width: 263px;
            left: 50%;
            top: 15%;
            transform: translate(-50%, 0%);
        }
        .gwd-div-1tkm {
            width: 412px;
            height: 847px;
        }
        .gwd-page-13xu {
            width: 412px;
            height: 847px;
        }
        [data-gwd-group="Group1"] .gwd-grp-1fih.gwd-button-ixfk {
            position: absolute;
            top: 0px;
            left: 50%;
            transform: translate(-50%, 0%);
            height: 70px;
            font-size: 30px;
            border-style: outset;
            border-radius: 10px;
            width: 200px;
            min-width: 200px;
            min-height: 70px;
        }
        [data-gwd-group="Group1"] {
            width: 100px;
            height: 170px;
        }
        .gwd-div-j7nr {
            position: absolute;
            left: 50%;
            transform: translate(-50%, 0%);
            top: 25%;
        }
        [data-gwd-group="Group1"] .gwd-grp-1fih.gwd-button-1esx {
            position: absolute;
            left: 50%;
            transform: translate(-50%, 0%);
            height: 70px;
            font-size: 30px;
            border-style: outset;
            border-radius: 10px;
            width: 200px;
            min-width: 200px;
            min-height: 70px;
            top: 100px;
        }
        [data-gwd-group="ButtonGroup2"] .gwd-grp-b81f.gwd-button-1wag {
            position: absolute;
            top: 0px;
            font-size: 30px;
            width: 200px;
            height: 70px;
            left: 50%;
            border-radius: 10px;
            transform: translate(-50%, 0%);
        }
        [data-gwd-group="ButtonGroup2"] {
            width: 100px;
            height: 170px;
        }
        .gwd-div-11gh {
            position: absolute;
            left: 50%;
            transform: translate(-50%, 0%);
            top: 25%;
        }
        [data-gwd-group="ButtonGroup2"] .gwd-grp-b81f.gwd-button-1847 {
            position: absolute;
            width: 200px;
            height: 70px;
            left: 50%;
            transform: translate(-50%, 0%);
            top: 100px;
            font-size: 30px;
            border-radius: 10px;
        }
        .gwd-imagebutton-1f8n {
            position: absolute;
            width: 50px;
            height: 50px;
            left: 25px;
            top: 39px;
        }
        .gwd-imagebutton-1kfs {
            position: absolute;
            width: 50px;
            height: 50px;
            left: 25px;
            top: 39px;
        }
        .gwd-imagebutton-1xwg {
            position: absolute;
            width: 50px;
            height: 50px;
            left: 25px;
            top: 39px;
        }
        .gwd-div-1xz7 {
            position: absolute;
            width: 280px;
            left: 50%;
            transform: translate(-50%, 0%);
            top: 15%;
            height: 600px;
        }
        .gwd-h1-1eds {
            position: absolute;
            text-align: center;
            height: 46px;
            width: 263px;
            left: 50%;
            transform: translate(-50%, 0%);
            top: 0%;
        }
        .gwd-input-5nms {
            position: absolute;
            width: 250px;
            left: 50%;
            transform: translate(-50%, 0%);
            height: 50px;
            border-width: 0px;
            border-style: solid;
            top: 10%;
        }
        .gwd-button-1hvj {
            position: absolute;
            width: 100px;
            left: 50%;
            top: 0px;
            margin: 0px;
            border-radius: 3px;
            font-size: 20px;
            height: 30px;
            transform: translate(-50%, 0%) translate3d(0px, 536px, 0px);
        }
        .gwd-textarea-ql8p {
            position: absolute;
            width: 263px;
            left: 50%;
            transform: translate(-50%, 0%);
            height: 300px;
            top: 31.67%;
        }
        .gwd-label-1ljh {
            position: absolute;
            width: 100px;
            height: 20px;
            font-family: Arial;
            font-size: 32px;
            font-weight: 700;
            text-align: center;
            left: 50%;
            transform: translate(-50%, 0%);
            top: 114px;
        }
        .gwd-div-162o {
            height: 777px;
        }
        .gwd-page-1oij {
            height: 777px;
        }
        .gwd-div-1vkw {
            height: 777px;
        }
        .gwd-page-tqwy {
            height: 777px;
        }
        .gwd-div-6s2o {
            height: 777px;
        }
        .gwd-page-18bj {
            height: 777px;
        }
        .gwd-label-191c {
            position: absolute;
            left: 50%;
            transform: translate(-50%, 0%);
            top: 26%;
            font-size: 32px;
            font-weight: bold;
            font-family: Arial;
            width: 263px;
            height: 46px;
            text-align: center;
            line-height: 60px;
        }
        .gwd-textarea-13zl {
            transform: translate(-50%, 0%) translate3d(0px, 26px, 0px);
        }
        .gwd-textarea-1pzl {
            transform: translate(-50%, 0%) translate3d(0px, -118px, 0px);
        }
    </style>
    <script data-source="gwd_webcomponents_v1_min.js" data-version="2" data-exports-type="gwd_webcomponents_v1" src="gwd_webcomponents_v1_min.js"></script>
    <script data-source="gwdpage_min.js" data-version="13" data-exports-type="gwd-page" src="gwdpage_min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script data-source="gwdpagedeck_min.js" data-version="14" data-exports-type="gwd-pagedeck" src="gwdpagedeck_min.js"></script>
    <script type="text/javascript" src="groups_runtime.min.1.0.js" gwd-groups-version="1.0"></script>
    <script type="text/javascript" src="gwdid.min.1.0.js" gwd-gwdid-version="1.0"></script>
    <script type="text/javascript" gwd-events="handlers">
        window.gwd = window.gwd || {};
        var hiddenLabel = document.createElement('label');
        hiddenLabel.type = 'hidden';
        hiddenLabel.id = 'label_platform';
        gwd.click_business = function(event) {
            document.getElementById('pagedeck').goToPage('page1_2', 'slide', 700, 'ease', 'left');
        };
        gwd.auto_Gwd_imagebutton_goto_homeClick = function(event) {
            // GWD Predefined Function
            gwd.actions.gwdPagedeck.goToPage('pagedeck', 'page1', 'slide', 700, 'ease', 'left');
        };
        gwd.auto_Gwd_imagebutton_goto_home_1Click = function(event) {
            // GWD Predefined Function
            gwd.actions.gwdPagedeck.goToPage('pagedeck', 'page1', 'slide', 700, 'ease', 'left');
        };
        gwd.auto_Gwd_imagebutton_goto_home_2Click = function(event) {
            // GWD Predefined Function
            gwd.actions.gwdPagedeck.goToPage('pagedeck', 'page1', 'slide', 700, 'ease', 'left');
        };
        gwd.click_normal = function(event) {
            document.getElementById("pagedeck").goToPage('page1_1', 'slide', 700, 'ease', 'left');
            document.getElementById("range_1").value = 1;
            document.getElementById("text_1").value = "";
            update_star_label();
        };
        gwd.get_review_stars = function(event) {
            // return star to flask app
            var review = [];
            var field_name = ['star', 'txt'];
            var star = document.getElementById("range_1").value;
            var txt = document.getElementById("text_1").value;
            if (txt === '') {
                alert('Text input is empty.');
                return;
            }
            review[0] = star;
            review[1] = txt;
            console.log(star);
            const form = document.createElement('form');
            form.method = 'post';
            form.action = '/get_user_review';
            for (let i = 0; i < 2; i++) {
                const hiddenField = document.createElement('input');
                hiddenField.type = 'hidden';
                hiddenField.name = field_name[i];
                hiddenField.value = review[i];
                form.appendChild(hiddenField);
            }
            document.body.appendChild(form);
            form.submit();
        };
        gwd.slider_changed = function(event) {
            // show star on label to show to users
            update_star_label();
        };

        function update_star_label() {
            var x = document.getElementById("range_1").value;
            document.getElementById("label_show_star").innerText = x + "星";
        }
        gwd.goto_home = function(event) {
            var url = '/';
            window.location = url;
        };
        gwd.select_platform = function(event) {
            // set arg for 'GET'
            document.getElementById("pagedeck").goToPage('page1_3', 'slide', 700, 'ease', 'left');
            var platform = 'Googlemaps';
            $.ajax({
                url: ('/get_platform'),
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(platform)
            });
        };
        gwd.auto_Gwd_imagebutton_goto_home_3Click = function(event) {
            // GWD Predefined Function
            gwd.actions.gwdPagedeck.goToPage('pagedeck', 'page1', 'slide', 700, 'ease', 'left');
        };
        gwd.get_url = function(event) {
            // send url to web scraper
            url = document.getElementById('text_url').value;
            $.ajax({
                url: ('/get_url'),
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(url)
            });
        };
        gwd.select_platform2 = function(event) {
            // set arg for 'GET'
            document.getElementById("pagedeck").goToPage('page1_3', 'slide', 700, 'ease', 'left');
            console.log('Test JS function');
            var platform = 'Foodpanda';
            $.ajax({
                url: ('/get_platform'),
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(platform)
            });
        };
    </script>
    <script type="text/javascript" gwd-events="support" src="gwd-events-support.1.0.js"></script>
    <script type="text/javascript" gwd-events="registration">
        // Google Web Designer 中處理事件的支援程式碼
        // 這個指令碼區塊是自動產生的，請勿編輯！
        gwd.actions.events.registerEventHandlers = function(event) {
            gwd.actions.events.addHandler(' Group1 button_select_business', 'click', gwd.click_business, false);
            gwd.actions.events.addHandler(' Group1 button_select_normal', 'click', gwd.click_normal, false);
            gwd.actions.events.addHandler('gwd-imagebutton_goto_home', 'click', gwd.auto_Gwd_imagebutton_goto_homeClick, false);
            gwd.actions.events.addHandler('gwd-imagebutton_goto_home_1', 'click', gwd.auto_Gwd_imagebutton_goto_home_1Click, false);
            gwd.actions.events.addHandler('gwd-imagebutton_goto_home_2', 'click', gwd.auto_Gwd_imagebutton_goto_home_2Click, false);
            gwd.actions.events.addHandler('button_send_review', 'click', gwd.get_review_stars, false);
            gwd.actions.events.addHandler('range_1', 'change', gwd.slider_changed, false);
            gwd.actions.events.addHandler('range_1', 'input', gwd.slider_changed, false);
            gwd.actions.events.addHandler('gwd-imagebutton_goto_home_3', 'click', gwd.auto_Gwd_imagebutton_goto_home_3Click, false);
            gwd.actions.events.addHandler(' ButtonGroup2 button_select_googlemap', 'click', gwd.select_platform, false);
            gwd.actions.events.addHandler('button_send_url', 'click', gwd.get_url, false);
            gwd.actions.events.addHandler(' ButtonGroup2 button_select_foodpanda', 'click', gwd.select_platform2, false);
        };
        gwd.actions.events.deregisterEventHandlers = function(event) {
            gwd.actions.events.removeHandler(' Group1 button_select_business', 'click', gwd.click_business, false);
            gwd.actions.events.removeHandler(' Group1 button_select_normal', 'click', gwd.click_normal, false);
            gwd.actions.events.removeHandler('gwd-imagebutton_goto_home', 'click', gwd.auto_Gwd_imagebutton_goto_homeClick, false);
            gwd.actions.events.removeHandler('gwd-imagebutton_goto_home_1', 'click', gwd.auto_Gwd_imagebutton_goto_home_1Click, false);
            gwd.actions.events.removeHandler('gwd-imagebutton_goto_home_2', 'click', gwd.auto_Gwd_imagebutton_goto_home_2Click, false);
            gwd.actions.events.removeHandler('button_send_review', 'click', gwd.get_review_stars, false);
            gwd.actions.events.removeHandler('range_1', 'change', gwd.slider_changed, false);
            gwd.actions.events.removeHandler('range_1', 'input', gwd.slider_changed, false);
            gwd.actions.events.removeHandler('gwd-imagebutton_goto_home_3', 'click', gwd.auto_Gwd_imagebutton_goto_home_3Click, false);
            gwd.actions.events.removeHandler(' ButtonGroup2 button_select_googlemap', 'click', gwd.select_platform, false);
            gwd.actions.events.removeHandler('button_send_url', 'click', gwd.get_url, false);
            gwd.actions.events.removeHandler(' ButtonGroup2 button_select_foodpanda', 'click', gwd.select_platform2, false);
        };
        document.addEventListener("DOMContentLoaded", gwd.actions.events.registerEventHandlers);
        document.addEventListener("unload", gwd.actions.events.deregisterEventHandlers);
    </script>
    <script data-source="gwdimage_min.js" data-version="17" data-exports-type="gwd-image" src="gwdimage_min.js"></script>
    <script data-source="gwdimagebutton_min.js" data-version="13" data-exports-type="gwd-imagebutton" src="gwdimagebutton_min.js"></script>
</head>

<body class="document-body">
    <template id="gwd-group-definitions">
        <div data-gwd-group-def="Group1" data-gwd-group-class="gwd-grp-1fih" style="display: none;">
            <button class="gwd-grp-1fih gwd-button-1esx" data-gwd-name="button_select_normal" data-gwd-grp-id="button_select_normal">Normal</button>
            <button class="gwd-button-ixfk gwd-grp-1fih" data-gwd-grp-id="button_select_business" data-gwd-name="button_select_business">Business</button>
        </div>
        <div data-gwd-group-def="ButtonGroup2" data-gwd-group-class="gwd-grp-b81f" style="display: none;">
            <button class="gwd-grp-b81f gwd-button-1847" data-gwd-grp-id="button_select_foodpanda">Foodpanda</button>
            <button class="gwd-button-1wag gwd-grp-b81f" data-gwd-grp-id="button_select_googlemap">Googlemaps</button>
        </div>
    </template>
    <gwd-pagedeck class="gwd-page-container" id="pagedeck" default-page="page1">
        <gwd-page id="page1" class="gwd-page-wrapper page1-content gwd-lightbox gwd-page-13xu gwd-page-1oij" data-gwd-width="412px" data-gwd-height="777px" data-gwd-name="page_home">
            <div class="gwd-page-content page1-content gwd-div-1tkm gwd-div-162o">
                <h1 id="label_1" class="gwd-label-74gh">選擇模式</h1>
                <div class="gwd-div-j7nr" data-gwd-group="Group1"></div>
                <gwd-imagebutton id="gwd-imagebutton_goto_home_1" up-image="assets/home_FILL0_wght400_GRAD0_opsz24.png" over-image="" down-image="" scaling="cover" class="gwd-imagebutton-1kfs"></gwd-imagebutton>
            </div>
        </gwd-page>
        <gwd-page id="page1_2" class="gwd-page-wrapper page1-content gwd-lightbox gwd-page-13xu gwd-page-tqwy" data-gwd-width="412px" data-gwd-height="777px" data-gwd-name="page_select_platform">
            <div class="gwd-page-content page1-content gwd-div-1tkm gwd-div-1vkw">
                <h1 id="label_3" class="gwd-label-74gh">選擇平台</h1>
                <div class="gwd-div-11gh" data-gwd-group="ButtonGroup2"></div>
                <gwd-imagebutton id="gwd-imagebutton_goto_home" up-image="assets/home_FILL0_wght400_GRAD0_opsz24.png" over-image="" down-image="" scaling="cover" class="gwd-imagebutton-1f8n"></gwd-imagebutton>
            </div>
        </gwd-page>
        <gwd-page id="page1_1" class="gwd-page-wrapper page1-content gwd-lightbox gwd-page-13xu gwd-page-18bj" data-gwd-width="412px" data-gwd-height="777px" data-gwd-name="page2">
            <div class="gwd-page-content page1-content gwd-div-1tkm gwd-div-6s2o">
                <gwd-imagebutton id="gwd-imagebutton_goto_home_2" up-image="assets/home_FILL0_wght400_GRAD0_opsz24.png" over-image="" down-image="" scaling="cover" class="gwd-imagebutton-1xwg"></gwd-imagebutton>
                <div class="gwd-div-1xz7 star one two three four five">
                    <label id="label_5" class="gwd-label-191c">輸入評論</label>
                    <h1 id="label_2" class="gwd-h1-1eds">輸入星等</h1>
                    <input type="range" id="range_1" value="50" min="1" max="5" step="1" class="gwd-input-5nms">
                    <button id="button_send_review" class="gwd-button-1hvj">Send</button>
                    <textarea class="gwd-textarea-ql8p gwd-textarea-13zl" id="text_1"></textarea>
                    <label id="label_show_star" class="gwd-label-1ljh"></label>
                </div>
            </div>
        </gwd-page>
        <gwd-page id="page1_3" class="gwd-page-wrapper page1-content gwd-lightbox gwd-page-13xu gwd-page-18bj" data-gwd-width="412px" data-gwd-height="777px" data-gwd-name="page_get_url">
            <div class="gwd-page-content page1-content gwd-div-1tkm gwd-div-6s2o">
                <gwd-imagebutton id="gwd-imagebutton_goto_home_3" up-image="assets/home_FILL0_wght400_GRAD0_opsz24.png" over-image="" down-image="" scaling="cover" class="gwd-imagebutton-1xwg"></gwd-imagebutton>
                <div class="gwd-div-1xz7 star one two three four five">
                    <h1 id="label_4" class="gwd-h1-1eds">輸入網址</h1>
                    <button id="button_send_url" class="gwd-button-1hvj">Send</button>
                    <textarea class="gwd-textarea-ql8p gwd-textarea-1pzl" id="text_url"></textarea>
                </div>
            </div>
        </gwd-page>
    </gwd-pagedeck>
    <script type="text/javascript" id="gwd-init-code">
        (function() {
            document.body.style.opacity = "0";
            var pageDeck = document.getElementById('pagedeck');
            /**
             * Handles the DOMContentLoaded event. The DOMContentLoaded event is
             * fired when the document has been completely loaded and parsed.
             */

            function handleDomContentLoaded(event) {}

            /**
             * Handles the WebComponentsReady event. This event is fired when all
             * custom elements have been registered and upgraded.
             */
            function handleWebComponentsReady(event) {
                document.body.style.opacity = "";
                requestAnimationFrame(function() {
                    setTimeout(function() {
                        pageDeck.goToPage(pageDeck.getDefaultPage().id);
                    }, 1);
                });
            }

            window.addEventListener('DOMContentLoaded',
                handleDomContentLoaded, false);
            window.addEventListener('WebComponentsReady',
                handleWebComponentsReady, false);
        })();
    </script>
</body>

</html>